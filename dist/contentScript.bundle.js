console.log("Content script loaded."),chrome.runtime.onMessage.addListener((function(e,n,t){var o,r;"displayAnalysisResults"===e.action&&(console.log("Received analysis results to display."),o=e.analysisResults,(r=document.createElement("div")).setAttribute("id","termsGuardianResultsOverlay"),r.innerHTML='\n        <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:10000000;">\n            <div style="background:#fff;padding:20px;box-shadow:0 4px 6px rgba(0,0,0,0.1);border-radius:8px;max-width:600px;margin:50px auto;">\n                <h2>Agreement Analysis Results</h2>\n                <p><strong>Clarity Grade:</strong> '.concat(o.clarityGrade,"</p>\n                <p><strong>Content Grade:</strong> ").concat(o.contentGrade,"</p>\n                <p><strong>Key Excerpts:</strong> ").concat(o.keyExcerpts,"</p>\n                <p><strong>Reasons for Grade:</strong> ").concat(o.reasons,"</p>\n                <button onclick=\"document.getElementById('termsGuardianResultsOverlay').remove();\">Close</button>\n            </div>\n        </div>\n    "),document.body.appendChild(r))})),document.addEventListener("selectionchange",(function(){var e,n=window.getSelection().toString().trim();n&&(e=n,["terms of service","privacy policy","user agreement","license agreement"].some((function(n){return e.toLowerCase().includes(n)})))?chrome.runtime.sendMessage({action:"enableContextMenu",enable:!0},(function(e){chrome.runtime.lastError?console.error("Error enabling context menu:",chrome.runtime.lastError.message):console.log("Context menu enabled for selected text.")})):chrome.runtime.sendMessage({action:"enableContextMenu",enable:!1},(function(e){chrome.runtime.lastError?console.error("Error disabling context menu:",chrome.runtime.lastError.message):console.log("Context menu disabled as selected text does not match criteria.")}))}));